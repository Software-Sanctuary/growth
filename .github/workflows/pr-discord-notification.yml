name: CI - Notify PR to Discord Channel
on:
  pull_request:
    branches: 
      - master
jobs:
    build:
      name: Build
      runs-on: ubuntu-latest
      steps:
        - name: Notify Action
          run: echo "Sending message to discord"
        - name: Send PR notification message to Discord Channel
          uses: appleboy/discord-action@0.0.3
          env: 
            name: Discord
            DISCORD_WEBHOOK_ID: ${{ secrets.DISCORD_PR_REQUESTS_WEBHOOK_ID }}
            DISCORD_WEBHOOK_TOKEN: ${{ secrets.DISCORD_PR_REQUESTS_WEBHOOK_TOKEN }}
          with:
            # discord webhook id
            webhook_id: ${DISCORD_WEBHOOK_ID}
            # discord webhook token
            webhook_token: ${DISCORD_WEBHOOK_TOKEN}
            color: "#48f442"
            message: "A PR has been opened for growth-framework"
